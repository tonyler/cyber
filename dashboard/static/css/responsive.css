/*
 * Responsive Design
 * Mobile breakpoints and adaptations
 */

/* Tablet breakpoint */
@media (max-width: 1024px) {
  :root {
    --space-md: 1rem;
    --space-lg: 1.5rem;
    --space-xl: 2rem;
  }

  .stats-dashboard {
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  }

  .stats-dashboard.history-stats {
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)) !important;
  }

  .terminal-row {
    font-size: 0.8rem;
    gap: var(--space-sm);
  }

  .chart-body {
    height: 300px;
    padding: var(--space-md);
  }

  .page-title {
    font-size: 2rem;
  }
}

/* Mobile breakpoint */
@media (max-width: 768px) {
  html,
  body {
    height: auto;
  }

  body {
    padding-bottom: 0;
    min-height: 100dvh;
  }

  /* Disable double-tap to zoom (improves click responsiveness) */
  * {
    touch-action: pan-x pan-y;
  }

  /* Allow inputs and buttons to be clicked */
  input, select, button, a, textarea {
    touch-action: manipulation;
  }

  /* Improve touch targets for mobile */
  .member-row,
  .terminal-row:not(.terminal-row-header) {
    min-height: 44px;
    align-items: center;
  }

  /* Better text wrapping for long content */
  .term-col a {
    word-break: break-word;
    overflow-wrap: break-word;
  }

  .user-name {
    word-break: break-word;
  }

  body::before {
    background-attachment: fixed;
    position: fixed;
  }

  body::after {
    position: fixed;
  }

  .cyber-grid {
    position: fixed;
  }

  /* Container adjustments */
  .container {
    padding-left: var(--space-md);
    padding-right: var(--space-md);
  }

  .container-fluid {
    padding-bottom: 80px; /* Add space for fixed footer on mobile */
  }

  /* Smooth scrolling for terminal tables */
  .terminal-body {
    -webkit-overflow-scrolling: touch;
    overflow-x: auto;
  }

  /* Navigation */
  .nav-toggle {
    display: flex;
  }

  .nav-links {
    position: fixed;
    top: 70px;
    left: 0;
    right: 0;
    flex-direction: column;
    background: rgba(10, 14, 39, 0.98);
    backdrop-filter: blur(20px);
    padding: var(--space-md);
    gap: 0;
    border-bottom: var(--border-thin) solid var(--cyan);
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
    transform: translateY(-100%);
    opacity: 0;
    transition: all var(--duration-normal) var(--ease-default);
    pointer-events: none;
  }

  .nav-links.active {
    transform: translateY(0);
    opacity: 1;
    pointer-events: all;
  }

  .nav-link {
    padding: var(--space-md);
    border-bottom: 1px solid rgba(0, 240, 255, 0.1);
  }

  .nav-brand {
    font-size: 1.2rem;
  }

  /* Page Header */
  .header-content {
    flex-direction: column;
    gap: var(--space-md);
  }

  .page-title {
    font-size: 1.75rem;
  }

  .page-subtitle {
    font-size: 0.9rem;
  }

  .month-selector-panel {
    max-width: 100%;
  }

  /* Stats */
  .stats-dashboard {
    grid-template-columns: 1fr;
  }

  .stats-dashboard.history-stats {
    grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)) !important;
  }

  .value-number {
    font-size: 2rem;
  }

  /* Terminal output mobile */
  .terminal-output {
    width: 100%;
  }

  .terminal-row {
    grid-template-columns: 40px minmax(100px, 1.5fr) repeat(5, minmax(60px, 1fr));
    font-size: 0.75rem;
    gap: 0.5rem;
  }

  .terminal-row.reddit-grid {
    grid-template-columns: 40px minmax(100px, 1.5fr) repeat(4, minmax(60px, 1fr));
  }

  .terminal-row.total-grid {
    grid-template-columns: 40px minmax(100px, 1.5fr) repeat(3, minmax(70px, 1fr));
  }

  /* Removed history-grid - using default terminal-row */

  .rank-badge {
    width: 28px;
    height: 28px;
    font-size: 0.75rem;
  }

  /* Chart */
  /* Search functionality */
  .search-wrapper {
    max-width: 100%;
  }

  .search-input {
    font-size: 16px; /* Prevent iOS auto-zoom on focus */
    padding: 0.875rem 0.875rem 0.875rem 2.75rem;
  }

  .selector-input {
    font-size: 16px; /* Prevent iOS auto-zoom on focus */
  }

  .back-button {
    font-size: 0.85rem;
    padding: 0.5rem 0.75rem;
  }

  /* Search page members grid */
  .members-grid {
    grid-template-columns: 40px minmax(100px, 2fr) repeat(3, minmax(60px, 1fr)) !important;
    gap: 0.5rem;
  }

  .chart-body {
    height: 250px;
  }

  .chart-header {
    flex-direction: column;
    align-items: flex-start;
    gap: var(--space-sm);
  }

  /* Footer */
  .footer-content {
    flex-direction: column;
    gap: var(--space-sm);
    text-align: center;
  }

  .cyber-footer {
    position: static;
  }

  /* Alerts */
  .alert-container {
    right: var(--space-sm);
    left: var(--space-sm);
    max-width: none;
  }
}

/* Small mobile */
@media (max-width: 480px) {
  .page-title {
    font-size: 1.5rem;
  }

  .page-subtitle {
    font-size: 0.85rem;
  }

  .value-number {
    font-size: 1.75rem;
  }

  /* Improve readability on small screens */
  .stat-label {
    font-size: 0.65rem;
  }

  .terminal-prompt,
  .terminal-command {
    font-size: 0.65rem;
  }

  .expand-indicator {
    right: var(--space-sm);
  }

  .terminal-row {
    grid-template-columns: 35px minmax(90px, 1.5fr) repeat(5, minmax(55px, 1fr));
    font-size: 0.7rem;
    padding: var(--space-xs) var(--space-sm);
    gap: 0.4rem;
  }

  .terminal-row.reddit-grid {
    grid-template-columns: 35px minmax(90px, 1.5fr) repeat(4, minmax(55px, 1fr));
  }

  .terminal-row.total-grid {
    grid-template-columns: 35px minmax(90px, 1.5fr) repeat(3, minmax(65px, 1fr));
  }

  /* Removed history-grid - using default terminal-row */

  .rank-badge {
    width: 24px;
    height: 24px;
    font-size: 0.7rem;
  }

  /* Search page members grid */
  .members-grid {
    grid-template-columns: 35px minmax(80px, 2fr) repeat(3, minmax(50px, 1fr)) !important;
    gap: 0.3rem;
  }

  .chart-body {
    padding: var(--space-sm);
  }
}
